
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Recovering from disaster Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../refs/" />
    
    
    <link rel="prev" href="../extras/README.md" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">Getting Started with Git and GitHub</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../intro/">
            
                <a href="../intro/">
            
                    
                    Prerequisites
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../intro/gitinstall.html">
            
                <a href="../intro/gitinstall.html">
            
                    
                    Installing Git
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../intro/introcli.html">
            
                <a href="../intro/introcli.html">
            
                    
                    Command-line Basics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../intro/gitcli.html">
            
                <a href="../intro/gitcli.html">
            
                    
                    Starting Git
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="./">
            
                <a href="./">
            
                    
                    Using Git
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="gitsetup.html">
            
                <a href="gitsetup.html">
            
                    
                    Getting set up
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="repository.html">
            
                <a href="repository.html">
            
                    
                    Your first repository
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="stages.html">
            
                <a href="stages.html">
            
                    
                    The three stages of Git
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../github/">
            
                <a href="../github/">
            
                    
                    GitHub
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../github/github.md">
            
                <span>
            
                    
                    GitHub
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../github/cloneandfork.html">
            
                <a href="../github/cloneandfork.html">
            
                    
                    Cloning and forking
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../github/simple.html">
            
                <a href="../github/simple.html">
            
                    
                    Simple Fixes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../github/pullrequest.html">
            
                <a href="../github/pullrequest.html">
            
                    
                    Pull Requests
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../extras/README.md">
            
                <span>
            
                    
                    Extras
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.5.1" data-path="disaster.html">
            
                <a href="disaster.html">
            
                    
                    Recovering from disaster
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../refs/">
            
                <a href="../refs/">
            
                    
                    References
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../refs/commandsummary.html">
            
                <a href="../refs/commandsummary.html">
            
                    
                    Git command summary
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Recovering from disaster</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="recovering-from-disaster">Recovering from disaster</h1>
<p>Git provides a number of ways of recovering from disaster, aka undoing changes to your repository. We won&apos;t go into too much detail here as it&apos;s all rather more complicated than we have time for!</p>
<p>In all cases, you will need to know the SHA-1 checksum for the a commit, found by running the <code>git log</code> command. You can get a shorter (7 character) version of the checksum or hash, which is equally valid, by appending <code>--abbrev-commit</code> to the command, as follows:</p>
<pre><code>git log --abbrev-commit
</code></pre><h2 id="git-checkout">git checkout</h2>
<p>This allows you to <strong>view</strong> the repository at a particular point in time, or commit:</p>
<pre><code>git checkout &lt;sha&gt;
</code></pre><p>It does not replace your current working state, you can get back to that with:</p>
<pre><code>git checkout &lt;branchname&gt;
</code></pre><p>To continue working on the repository from the position of the commit you have gone back to:</p>
<pre><code>git checkout &lt;sha&gt;
git checkout -b newbranchname
</code></pre><p><strong>At this point, in this branch, the subsequent work no longer exists</strong></p>
<h2 id="git-clean">git clean</h2>
<p>This allows you to &quot;tidy&quot; a repository by deleting untracked files. To see what it will do before it actually does it, add the <code>-n</code> option, which performs a dry-run:</p>
<pre><code>git clean -n
</code></pre><p><em>Note that <code>-n</code> can be used after most git commands to give you a dry-run of what the command will actually do</em></p>
<h2 id="git-revert">git revert</h2>
<p>This allows you to undo changes to your commit history back to the specified SHA-1 checksum by adding a new commit, which is equivalent to the &quot;inverse&quot; of the one referred to in the command:</p>
<pre><code>git revert &lt;sha&gt;
</code></pre><h2 id="git-reset">git reset</h2>
<p>This undoes changes to your commit history back to the specified SHA-1 checksum, but also modifies the file system and staging index, depending on the way git reset is invoked.</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Operation</th>
</tr>
</thead>
<tbody>
<tr>
<td>git reset --soft &lt;sha&gt;</td>
<td>The contents of the staging index and file system are unchanged</td>
</tr>
<tr>
<td>git reset --mixed &lt;sha&gt;</td>
<td>Resets the staging index but leaving the working directory unchanged</td>
</tr>
<tr>
<td>git reset --hard &lt;sha&gt;</td>
<td>Resets the staging index and the working directory back to the state of the specified commit</td>
</tr>
</tbody>
</table>
<p>Of these options <code>git reset --hard &lt;sha&gt;</code> is the most dangerous and commonly used invokation. It is most commonly used to return everything (commit history, staging index and file system) back to the state it was in before the most recent commit, with:</p>
<pre><code>git reset --hard HEAD^
</code></pre>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../extras/README.md" class="navigation navigation-prev " aria-label="Previous page: Extras">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../refs/" class="navigation navigation-next " aria-label="Next page: References">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Recovering from disaster","level":"1.5.1","depth":2,"next":{"title":"References","level":"1.6","depth":1,"path":"refs/README.md","ref":"refs/README.md","articles":[{"title":"Git command summary","level":"1.6.1","depth":2,"path":"refs/commandsummary.md","ref":"refs/commandsummary.md","articles":[]}]},"previous":{"title":"Extras","level":"1.5","depth":1,"path":"extras/README.md","ref":"extras/README.md","articles":[{"title":"Recovering from disaster","level":"1.5.1","depth":2,"path":"git/disaster.md","ref":"git/disaster.md","articles":[]}]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"git/disaster.md","mtime":"2018-03-05T18:54:00.690Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-03-06T18:49:21.241Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

